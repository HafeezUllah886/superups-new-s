<?php
 namespace App\Http\Controllers; use App\Models\User; use Illuminate\Http\Request; use Illuminate\Support\Facades\DB; use Illuminate\Support\Facades\Hash; class profileController extends Controller { public function index() { return view("\x61\165\164\x68\56\x70\162\x6f\146\151\154\x65"); } public function update(request $req) { $req->validate(array("\x6e\x61\155\x65" => "\162\x65\161\x75\151\x72\145\x64\174\165\156\x69\161\x75\145\x3a\x75\163\145\162\x73\x2c\156\141\155\x65\54" . auth()->user()->id, "\145\x6d\x61\x69\154" => "\162\x65\161\165\151\x72\145\x64\174\165\x6e\x69\x71\x75\145\x3a\165\x73\145\162\x73\x2c\x65\155\x61\x69\x6c\54" . auth()->user()->id)); User::find(auth()->user()->id)->update($req->only("\156\141\155\145", "\x65\x6d\141\151\x6c")); return back()->with("\x73\165\x63\x63\145\x73\x73", "\120\162\x6f\x66\x69\154\x65\40\x55\x70\x64\141\x74\x65\144"); } public function changePassword(request $req) { $req->validate(array("\157\x6c\x64\x5f\160\x61\x73\163\167\x6f\x72\144" => "\162\145\x71\165\151\x72\x65\x64\174\143\x75\x72\x72\145\x6e\164\x5f\160\141\x73\163\x77\x6f\x72\144\72\x77\145\142", "\156\145\167\137\x70\x61\163\163\x77\x6f\x72\x64" => "\162\145\161\165\151\x72\x65\x64\174\x6d\x69\x6e\x3a\x38\174\x63\x6f\156\146\x69\162\155\145\144"), array("\x6f\x6c\x64\x5f\160\x61\163\163\167\157\x72\x64\56\x63\x75\162\x72\145\156\164\137\160\x61\163\163\x77\x6f\162\x64" => "\x4f\x6c\144\40\x50\141\163\x73\x77\x6f\162\144\40\151\163\x20\x49\x6e\143\x6f\x72\162\145\143\164")); $user = auth()->user(); $user->password = Hash::make($req->new_password); $user->save(); return back()->with("\x73\x75\143\x63\145\x73\x73", "\x50\x61\163\163\x77\157\162\x64\x20\x55\160\144\x61\x74\x65\x64"); } }
